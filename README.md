# store

    该软件系统是一个商城系统的后端部分，主要用到的开发技术和框架有Spring、SpringMVC、SpringBoot、Mybatis、Redis、Maven等，采用了Rest风格进行开发。
    该商城主要模块包括用户模块、地址模块、用户收货地址模块、商品模块、购物车模块以及订单模块。
    用户模块包含的主要功能为用户注册、登录、退出登录、修改密码、完善个人资料、对个人资料进行修改（其中个人资料包括用户名、电话、邮箱、性别、头像、地址等等）。其中，对用户传入的邮箱和电话进行了正则校验。在实现登录功能时，在用户身份认证过程中，使用JWT创建token，将token和用户id以及用户名双向绑定，然后存入redis，设置token在redis的有效期，以及通过更新token有效期的拦截器更新登录的在线用户的token有效期。同时也实现了Redis作为缓存的应用。每次对用户进行身份验证时，都是通过查询redis，这样降低了后端数据库的读取压力，也能提高查询速度。其中，在验证用户登录状态时，采用了登录拦截器，进而拦截非登录用户访问需要登录才能访问的路径。
    地址模块的主要功能为获取省市区列表。
    用户收货地址模块的主要功能为新增收货地址、收货地址列表展示、设置默认收货地址以及删除收货地址。
    商品模块的主要功能为商品的热销排行展示以及商品详情。其中，在商品热销排行展示功能的实现中，采用了Sorted Sets这个Redis数据类型来进行排名，元素为各个商品的id，分数为各个商品的优先级。这样便能使用Redis很快速的根据商品的优先级的高低来进行排名，得到一个排行榜。返回到控制器的结果是从Redis获取的结果。在代码的实现过程中还采用了定时器和异步的方法，实现定时从数据库中读取数据，保存到Redis中，以实现数据的一致性。Redis作为MySQL缓存的应用中，Redis 会把 MySQL 中经常被查询的数据缓存起来，比如热点数据，这样当用户来访问的时候，就不需要到 MySQL 中去查询了，而是直接获取 Redis 中的缓存数据，从而降低了后端数据库的读取压力。
    购物车模块的主要功能是将商品加入购物车、显示购物车列表、增加购物车商品数量以及显示勾选的购物车数据。
    订单模块的主要功能是创建订单以及取消订单。
    其中，该系统用到了AOP，将计时器作为一个切面，实现了通过它来计算查询、返回结果等等的时间。
